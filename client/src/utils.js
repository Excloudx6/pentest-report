import React from 'react';

const randomID = require("random-id");
const urlPrefix = (window.location.hostname === 'localhost') ? "http://localhost:8443" : "";

// pretty print time intervals
function timeSince(date) {
  var seconds = Math.abs(Math.floor((new Date() - date) / 1000));

  var interval = Math.floor(seconds / 31536000);

  if (interval > 1) {
    return interval + " years";
  }
  interval = Math.floor(seconds / 2592000);
  if (interval > 1) {
    return interval + " months";
  }
  interval = Math.floor(seconds / 86400);
  if (interval > 1) {
    return interval + " days";
  }
  interval = Math.floor(seconds / 3600);
  if (interval > 1) {
    return interval + " hours";
  }
  interval = Math.floor(seconds / 60);
  if (interval > 1) {
    return interval + " minutes";
  }
  return Math.floor(seconds) + " seconds";
}

  //  function to set the current time in timeline
function setCurrentTime(format) {
	var d = new Date(),
		mon = d.getMonth() + 1,
		day = d.getDate(),
		year = d.getFullYear(),
		hour = d.getHours(),
		min = d.getMinutes();
	  if(mon < 10) mon = '0' + mon;
	  if(day < 10) day = '0' + day;
	  if(hour < 10) hour = '0' + hour;
	  if(min < 10) min = '0' + min;
    var current_date = 'empty';
    if(format === 'full') {
        current_date = year + '-' + mon + '-' + day + 'T' + hour + ':' + min;
    } else {
        current_date = year + '-' + mon + '-' + day;
    }
    return current_date;
}

function reactIsInDevelomentMode(){ 
    return '_self' in React.createElement('div');
}


export {randomID, urlPrefix, timeSince, setCurrentTime, reactIsInDevelomentMode}
